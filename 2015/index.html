<!doctype html>
<html data-bs-theme="auto" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="John Appleseed" name="author" />
    <meta content="Ignite v0.2.1" name="generator" />
    <title>Articles from 2015</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/bootstrap-icons.min.css" rel="stylesheet" />
    <link href="/css/themes.min.css" rel="stylesheet" />
    <link href="https://www.example.com/2015" rel="canonical" />
    <script>/*
 Automatic Theme Switching Implementation
 Used in HTMLHead.swift.
 For user-driven theme switching implementation, see ignite-core.js.
 */

(function() {
    function getThemePreference() {
        return localStorage.getItem('custom-theme') || 'auto';
    }

    function applyTheme(themeID) {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const lightThemeID = document.documentElement.getAttribute('data-light-theme') || 'light';
        const darkThemeID = document.documentElement.getAttribute('data-dark-theme') || 'dark';
        const actualThemeID = themeID === 'auto' ? (prefersDark ? darkThemeID : lightThemeID) : themeID;

        document.documentElement.setAttribute('data-bs-theme', actualThemeID);
        document.documentElement.setAttribute('data-theme-state', themeID);
    }

    function applySyntaxTheme() {
        const syntaxTheme = getComputedStyle(document.documentElement)
            .getPropertyValue('--syntax-highlight-theme').trim().replace(/"/g, '');

        if (!syntaxTheme) return;

        document.querySelectorAll('link[data-highlight-theme]').forEach(link => {
            link.setAttribute('disabled', 'disabled');
        });

        const themeLink = document.querySelector(`link[data-highlight-theme="${syntaxTheme}"]`);
        if (themeLink) {
            themeLink.removeAttribute('disabled');
        }
    }

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        const currentTheme = getThemePreference();
        if (currentTheme === 'auto') {
            applyTheme('auto');
            applySyntaxTheme();
        }
    });

    const savedTheme = getThemePreference();
    applyTheme(savedTheme);
    applySyntaxTheme();
})();
</script>
    <meta content="N Scale Modeller" property="og:site_name" />
    <meta content="Articles from 2015" property="og:title" />
    <meta content="Articles from 2015" name="twitter:title" />
    <meta content="https://www.example.com/2015" property="og:url" />
    <meta content="example.com" name="twitter:domain" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="on" name="twitter:dnt" />
  </head>
  <body class="container">
    <div class="m-4 text-center">
      <div class="card justify-content-center align-items-center" style="width: 1000px">
        <img alt="" src="/images/trainwreck.jpg" class="card-img" />
        <div class="align-content-end card-img-overlay text-start">
          <p style="color: rgb(0 191 255 / 100%); font-size: 3.0em; font-weight: 700; margin-bottom: -15px">N Scale Modeller</p>
          <h3 style="font-weight: 200"><a href="/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #fff; padding-left: 20px; text-decoration: none">'experiments in n scale'</a></h3>
          <button type="button" class="btn" onclick="igniteSwitchTheme('light');">light</button>
          <button type="button" class="btn" onclick="igniteSwitchTheme('dark');">dark</button>
          <button type="button" class="btn" onclick="igniteSwitchTheme('auto');">auto</button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class=" col-md-8 mt-0">
        <div class="mt-0">
          <h3>Articles from 2015</h3>
          <ul style="margin-left: -32px">
            <div class="card" style="margin-bottom: 20px">
              <div class="card-header">
                <h4 style="margin-bottom: -15px"><a href="/2015/2015-01-30-software-available" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #888; text-decoration: none">Software Available</a><p style="color: #aaa; font-size: 0.7em; font-weight: 200">Jan 2015 - Some basic mac software to send dcc signals using Arduino microcontrollers.</p></h4>
              </div>
              <div class="card-body">
                <p class="mb-0"></p>
                <p>I’ve added the software that I have been developing to my GitHub repository. The link can be found on the <a href="/downloads/">Software Downloads</a> page.</p>
                <p>The repository contains a simple Arduino sketch to send a DCC signal to a booster, a very simple ‘booster tester’ that just flips the port connected to the booster every 5 seconds (basically a modified ‘blink’ sketch) so that you can measure the booster output with a multimeter, and a very early version of my MacDCC Command Station software.</p>
                <p></p>
                <p class="mb-0 text-end"><a href="/2015/2015-01-30-software-available" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">more</a></p>
              </div>
              <div class="card-footer text-body-secondary">
                <a href="/tags/arduino" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">Arduino</span></a>
                <a href="/tags/d-c-c" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC</span></a>
                <a href="/tags/software" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">Software</span></a>
                <a href="/tags/d-c-c--command--station" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC Command Station</span></a>
              </div>
            </div>
            <div class="card" style="margin-bottom: 20px">
              <div class="card-header">
                <h4 style="margin-bottom: -15px"><a href="/2015/2015-01-29-command-station" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #888; text-decoration: none">MacDCC Command Station</a><p style="color: #aaa; font-size: 0.7em; font-weight: 200">Jan 2015 - Using Arduino microcontrollers to send and monitor dcc signals</p></h4>
              </div>
              <div class="card-body">
                <p class="mb-0"></p>
                <p>Over the last few weeks I have been building an Arduino and Mac based DCC command station and today it all successfully came together with the running of my first locomotive under DCC control!</p>
                <p>The Arduino software is quite simple, just receiving raw bytes from my Mac in a very simple format, which is then converted to DCC and sent out to a booster. The format is just a byte specifying how many further bytes are in the message, followed by the actual DCC bytes including checksum. After the required number of bytes have been received by the Arduino, the message is validated using the checksum, then replaces the oldest of the current two messages being sent. The Arduino software continuously sends out the last two commands that it receives so that no message is <a href="/2015/2015-01-09-thinking-about-a-command-station">sent twice in a row</a>. It is only a slight modification of the code mentioned in <a href="/2015/2015-01-02-sending-dcc-with-arduino">this post</a>.</p>
                <p></p>
                <p class="mb-0 text-end"><a href="/2015/2015-01-29-command-station" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">more</a></p>
              </div>
              <div class="card-footer text-body-secondary">
                <a href="/tags/arduino" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">Arduino</span></a>
                <a href="/tags/d-c-c" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC</span></a>
                <a href="/tags/d-c-c--command--station" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC Command Station</span></a>
              </div>
            </div>
            <div class="card" style="margin-bottom: 20px">
              <div class="card-header">
                <h4 style="margin-bottom: -15px"><a href="/2015/2015-01-09-thinking-about-a-command-station" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #888; text-decoration: none">Thinking About a Command Station</a><p style="color: #aaa; font-size: 0.7em; font-weight: 200">Jan 2015 - Using Arduino microcontrollers to send and monitor dcc signals</p></h4>
              </div>
              <div class="card-body">
                <p class="mb-0"></p>
                <p>In the discussion below to keep everything straight as to which code I am talking about:</p>
                <ul>
                  <li>Communication from a PC (in my case a Mac) to the Arduino I’ll call a ‘command’.</li>
                  <li>Communication from the Arduino to the booster I’ll call a ‘packet’.</li>
                  <li>A message or message packet is a ‘command’ packet as distinguished from an idle packet.</li>
                </ul>
                <p>The overriding philosophy of my command station will be to keep the code in the Arduino as simple as possible and have most of the smarts in the software running on the Mac. With this in mind, probably the simplest possible command station for the Arduino would be code to accept a new command from a Mac (or PC) via the serial port, convert this command to a valid DCC packet, and then continuously send this packet to the booster. However, while this would probably work, it would be out of spec because the <a href="http://www.nmra.org/index-nmra-standards-and-recommended-practices">NMRA standard S 9.2 (line 116)</a> says:</p>
                <p></p>
                <p class="mb-0 text-end"><a href="/2015/2015-01-09-thinking-about-a-command-station" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">more</a></p>
              </div>
              <div class="card-footer text-body-secondary">
                <a href="/tags/arduino" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">Arduino</span></a>
                <a href="/tags/d-c-c" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC</span></a>
                <a href="/tags/d-c-c--command--station" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC Command Station</span></a>
              </div>
            </div>
            <div class="card" style="margin-bottom: 20px">
              <div class="card-header">
                <h4 style="margin-bottom: -15px"><a href="/2015/2015-01-02-sending-dcc-with-arduino" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #888; text-decoration: none">Sending DCC With An Arduino</a><p style="color: #aaa; font-size: 0.7em; font-weight: 200">Jan 2015 - Using Arduino microcontrollers to send and monitor dcc signals</p></h4>
              </div>
              <div class="card-body">
                <p class="mb-0"></p>
                <p>In my last post I mentioned that I now have 2 Arduino controller boards for experimenting with creating my own DCC command station, booster and DCC decoder. However, one of the problems with developing your own software and hardware that works together is that when something doesn’t work it can be difficult to figure out just where the problem is.</p>
                <p>To help get around this I figured that it should be possible to simplify things by hooking two Arduinos directly together and send DCC commands from one to the other. This would at least ensure that the software was working before even having to think about the electronics.</p>
                <p>So that’s what I did, and it worked!</p>
                <p></p>
                <p class="mb-0 text-end"><a href="/2015/2015-01-02-sending-dcc-with-arduino" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">more</a></p>
              </div>
              <div class="card-footer text-body-secondary">
                <a href="/tags/arduino" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">Arduino</span></a>
                <a href="/tags/d-c-c" rel="tag" class="link-plain link-underline link-underline-opacity-100 link-underline-opacity-100-hover"><span class="badge rounded-pill text-bg-primary" style="margin-right: 5px">DCC</span></a>
              </div>
            </div>
          </ul>
        </div>
      </div>
      <div class=" col">
        <div class="sticky-top" style="padding-bottom: 20px">
          <div class="card" style="margin-bottom: 20px">
            <div class="card-header">
              Pages
            </div>
            <div class="card-body">
              <ul class="mb-0" style="list-style: none">
                <li><a href="/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover m-0" style="color: #aaa; text-decoration: none">Home</a></li>
                <li><a href="/links" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover m-0" style="color: #aaa; text-decoration: none">Arduino DCC Links</a></li>
                <li><a href="/downloads" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover m-0" style="color: #aaa; text-decoration: none">Software Downloads</a></li>
                <li><a href="/about" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover m-0" style="color: #aaa; text-decoration: none">About</a></li>
                <li><a href="/disclaimer" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover m-0" style="color: #aaa; text-decoration: none">Disclaimer</a></li>
              </ul>
            </div>
          </div>
          <div class="card" style="margin-bottom: 20px">
            <div class="card-header">
              Top Posts
            </div>
            <div class="card-body">
              <ul class="mb-0" style="list-style: none">
                <li><a href="/2019/2019-05-10-linear-stepper" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Linear Stepper to Operate Turnouts</a></li>
                <li><a href="/2017/2017-01-23-dremel-turnout-jig" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Dremel Tool Turnout Jig</a></li>
              </ul>
            </div>
          </div>
          <div class="card" style="margin-bottom: 20px">
            <div class="card-header">
              Recent Posts
            </div>
            <div class="card-body">
              <ul class="mb-0" style="list-style: none">
                <li><a href="/2019/2019-05-10-linear-stepper" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Linear Stepper to Operate Turnouts</a></li>
                <li><a href="/2018/2018-05-21-muscle-wire-update" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Muscle Wire Update</a></li>
                <li><a href="/2018/2018-05-20-muscle-wire" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Muscle Wire to Operate Turnouts</a></li>
                <li><a href="/2018/2018-04-15-rc-servos" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">RC Servos to Operate Turnouts</a></li>
                <li><a href="/2017/2017-03-10-turnout-using-jig" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">First Turnouts Using Dremel Tool Jig</a></li>
              </ul>
            </div>
          </div>
          <div class="card" style="margin-bottom: 20px">
            <div class="card-header">
              Tags
            </div>
            <div class="card-body">
              <ul class="mb-0" style="list-style: none">
                <li><a href="/tags/turnout--control" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Turnout Control</a></li>
                <li><a href="/tags/arduino" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Arduino</a></li>
                <li><a href="/tags/linear--stepper--motors" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Linear Stepper Motors</a></li>
                <li><a href="/tags/turnouts" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Turnouts</a></li>
                <li><a href="/tags/muscle--wire" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Muscle Wire</a></li>
                <li><a href="/tags/d-c-c--command--station" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">DCC Command Station</a></li>
                <li><a href="/tags/software" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Software</a></li>
                <li><a href="/tags/uncategorized" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">Uncategorized</a></li>
                <li><a href="/tags/d-c-c" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">DCC</a></li>
                <li><a href="/tags/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">All tags</a></li>
              </ul>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              Archive
            </div>
            <div class="card-body">
              <ul class="mb-0" style="list-style: none">
                <li><a href="/2019" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">2019</a></li>
                <li><a href="/2018" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">2018</a></li>
                <li><a href="/2017" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">2017</a></li>
                <li><a href="/2015" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover" style="color: #aaa; text-decoration: none">2015</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <p class="mt-3 text-center">Created in Swift with <a href="https://github.com/twostraws/Ignite" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">Ignite</a></p>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/ignite-core.js"></script>
  </body>
</html>